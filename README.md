# 大衍筮法 · 写实分堆（最终发布版）

这是一个**单文件可部署**的应用，严格实现大衍筮法“三变成一爻”的**写实分堆**模型：每变随机分两堆且非空、第一变先挂一、余0记4。内置**可验证随机性**、**过程明细**与**分布自检**。

## 立即本地运行
双击 `index.html` 即可。可填写 Seed 复现同一结果。

## 部署到 Vercel（推荐）
1. 安装并登录 Vercel CLI：
   ```bash
   npm i -g vercel
   vercel login
   ```
2. 在本目录执行：
   ```bash
   vercel
   vercel --prod
   ```
3. （可选）绑定自有域名，并在 Cloudflare 做 CNAME 代理。

> 已附带 `vercel.json`：`index.html` 与 `sw.js` 不缓存，其他静态长缓存。

## 线上自检
- 页面右侧“分布自检”：建议样本量 ≥ 100000。长期比例约为：
  - 6≈1/64（1.5625%）、7≈9/64（14.0625%）、8≈27/64（42.1875%）、9≈27/64（42.1875%）
- 任意起卦后可导出 JSON（含 seed/nonce/entropy 与过程明细），用于复核与存档。

## 构建/版本承诺
- 页内自动计算并展示 build 哈希（运行时对 HTML 求 SHA-256），并写入承诺串以便审计。
- 你也可以改为手工写死版本与哈希（见页面顶部脚本的 `APP_VERSION`/`BUILD_SHA256`）。
